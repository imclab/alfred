<div>
  <% posts.each do |p| %>
    <% post = Post.get(p.id) %> <!-- VERY STRANGE for p.tag_list behavior! a dm bug maybe? -->
    <% if post.question? %>
    <div id="post-<%= post.id %>" class="question">
      <h3>
        <%= post_date(post) %>
        <span class="post-info">
          <%= vote_text(post) %>
          <a href="/questions/<%= post.id %>">#<%= post.id %></a>
        </span>
        <a href="/people/<%= post.person.name %>/posts"><%= post.person.name %></a> asked the following <a href="<%= "/questions/#{post.id}" %>">question</a>
      </h3>
    <% elsif post.answer? %>
    <div id="post-<%= post.id %>" class="answer">
      <h3>
        <%= post_date(post) %>
        <span class="post-info">
          <%= vote_text(post) %>
          <a href="/questions/<%= post.id %>">#<%= post.id %></a>
        </span>
        <a href="/people/<%= post.person.name %>/posts"><%= post.person.name %></a> posted this <a href="<%= "/answers/#{post.id}" %>">answer</a> in reply to <%= questions_link_list(post) %>
      </h3>
    <% else %>
    <div id="post-<%= post.id %>" class="post">
      <h3>
        <%= post_date(post) %>
        <span class="post-info">
          <%= vote_text(post) %>
          <a href="/questions/<%= post.id %>">#<%= post.id %></a>
        </span>
        <a href="/people/<%= post.person.name %>/posts"><%= post.person.name %></a> posted the following <a href="<%= "/posts/#{post.id}" %>">snippet</a>
      </h3>
    <% end %>
      <%= post_body(post) %>
    </div>
  <% end %>
</div>
